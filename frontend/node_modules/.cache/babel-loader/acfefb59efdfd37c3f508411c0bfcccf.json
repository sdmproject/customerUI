{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Evan/Desktop/SDM/project/frontend/src/Containers/ShoppingCartPage.js\",\n    _s = $RefreshSig$();\n\nimport ShoppingCart from \"../Components/ShoppingCart\";\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ShoppingCartPage = _ref => {\n  _s();\n\n  let {\n    dish,\n    cart,\n    setCart\n  } = _ref;\n  const [dishesNum, setDishesNum] = useState([]);\n  const [cartForMap, setCartForMap] = useState([]);\n  useEffect(() => {\n    let dishesNumTemp = [];\n    let cartForMapTemp = [];\n\n    for (let i = 0; i < dish.length; i++) {\n      let existNote = [];\n\n      for (let j = 0; j < cart[dish[i].name].length; j++) {\n        // have been calculated before\n        if (existNote.indexOf(cart[dish[i].name][j]) !== -1) continue;\n        let thisNoteNum = 0;\n\n        for (let k = 0; k < cart[dish[i].name].length; k++) {\n          if (cart[dish[i].name][j] === cart[dish[i].name][k]) thisNoteNum += 1;\n        }\n\n        dishesNumTemp.push(thisNoteNum);\n        existNote.push(cart[dish[i].name][j]); // index 0 : the info of this dish, including name, ime, etc\n        // index 1 : the note of this dish\n\n        cartForMapTemp.push([dish[i], cart[dish[i].name][j]]);\n      }\n    }\n\n    setCartForMap(cartForMapTemp);\n    setDishesNum(dishesNumTemp);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\"cartForMapTemp.map((order, idx)=>\", /*#__PURE__*/_jsxDEV(ShoppingCart, {\n      name: order[0].name,\n      image: order[0].image,\n      note: order[1],\n      number: dishesNum[idx],\n      cart: cart,\n      setCart: setCart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }, this), \")\"]\n  }, void 0, true);\n};\n\n_s(ShoppingCartPage, \"UwPEFTb2Id+pdCsRHnts8T9SVAc=\");\n\n_c = ShoppingCartPage;\nexport default ShoppingCartPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShoppingCartPage\");","map":{"version":3,"sources":["/mnt/c/Users/Evan/Desktop/SDM/project/frontend/src/Containers/ShoppingCartPage.js"],"names":["ShoppingCart","useState","useEffect","ShoppingCartPage","dish","cart","setCart","dishesNum","setDishesNum","cartForMap","setCartForMap","dishesNumTemp","cartForMapTemp","i","length","existNote","j","name","indexOf","thisNoteNum","k","push","order","image","idx"],"mappings":";;;AAAA,OAAOA,YAAP,MAAyB,4BAAzB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;;;AAEA,MAAMC,gBAAgB,GAAG,QAA0B;AAAA;;AAAA,MAAzB;AAACC,IAAAA,IAAD;AAAOC,IAAAA,IAAP;AAAaC,IAAAA;AAAb,GAAyB;AAElD,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACQ,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,EAAD,CAA5C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACf,QAAIS,aAAa,GAAG,EAApB;AACA,QAAIC,cAAc,GAAG,EAArB;;AACA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGT,IAAI,CAACU,MAAxB,EAAgCD,CAAC,EAAjC,EAAoC;AACnC,UAAIE,SAAS,GAAG,EAAhB;;AACA,WAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGX,IAAI,CAACD,IAAI,CAACS,CAAD,CAAJ,CAAQI,IAAT,CAAJ,CAAmBH,MAAtC,EAA8CE,CAAC,EAA/C,EAAkD;AACjD;AACA,YAAGD,SAAS,CAACG,OAAV,CAAkBb,IAAI,CAACD,IAAI,CAACS,CAAD,CAAJ,CAAQI,IAAT,CAAJ,CAAmBD,CAAnB,CAAlB,MAA6C,CAAC,CAAjD,EACC;AACD,YAAIG,WAAW,GAAG,CAAlB;;AACA,aAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGf,IAAI,CAACD,IAAI,CAACS,CAAD,CAAJ,CAAQI,IAAT,CAAJ,CAAmBH,MAAtC,EAA8CM,CAAC,EAA/C,EAAkD;AACjD,cAAGf,IAAI,CAACD,IAAI,CAACS,CAAD,CAAJ,CAAQI,IAAT,CAAJ,CAAmBD,CAAnB,MAA0BX,IAAI,CAACD,IAAI,CAACS,CAAD,CAAJ,CAAQI,IAAT,CAAJ,CAAmBG,CAAnB,CAA7B,EACCD,WAAW,IAAI,CAAf;AACD;;AACDR,QAAAA,aAAa,CAACU,IAAd,CAAmBF,WAAnB;AACAJ,QAAAA,SAAS,CAACM,IAAV,CAAehB,IAAI,CAACD,IAAI,CAACS,CAAD,CAAJ,CAAQI,IAAT,CAAJ,CAAmBD,CAAnB,CAAf,EAViD,CAWjD;AACA;;AACAJ,QAAAA,cAAc,CAACS,IAAf,CAAoB,CAACjB,IAAI,CAACS,CAAD,CAAL,EAAUR,IAAI,CAACD,IAAI,CAACS,CAAD,CAAJ,CAAQI,IAAT,CAAJ,CAAmBD,CAAnB,CAAV,CAApB;AACA;AACD;;AACDN,IAAAA,aAAa,CAACE,cAAD,CAAb;AACAJ,IAAAA,YAAY,CAACG,aAAD,CAAZ;AACA,GAvBQ,EAuBN,EAvBM,CAAT;AAyBA,sBACC;AAAA,iEAGE,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEW,KAAK,CAAC,CAAD,CAAL,CAASL,IAA7B;AAAmC,MAAA,KAAK,EAAEK,KAAK,CAAC,CAAD,CAAL,CAASC,KAAnD;AAA0D,MAAA,IAAI,EAAED,KAAK,CAAC,CAAD,CAArE;AAA0E,MAAA,MAAM,EAAEf,SAAS,CAACiB,GAAD,CAA3F;AAAkG,MAAA,IAAI,EAAEnB,IAAxG;AAA8G,MAAA,OAAO,EAAEC;AAAvH;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA,kBADD;AASA,CAvCD;;GAAMH,gB;;KAAAA,gB;AAyCN,eAAeA,gBAAf","sourcesContent":["import ShoppingCart from \"../Components/ShoppingCart\"\r\nimport { useState, useEffect } from \"react\"\r\n\r\nconst ShoppingCartPage = ({dish, cart, setCart}) =>{\r\n\r\n\tconst [dishesNum, setDishesNum] = useState([])\r\n\tconst [cartForMap, setCartForMap] = useState([])\r\n\r\n\tuseEffect(() => {\r\n\t\tlet dishesNumTemp = []\r\n\t\tlet cartForMapTemp = []\r\n\t\tfor(let i = 0; i < dish.length; i++){\r\n\t\t\tlet existNote = []\r\n\t\t\tfor(let j = 0; j < cart[dish[i].name].length; j++){\r\n\t\t\t\t// have been calculated before\r\n\t\t\t\tif(existNote.indexOf(cart[dish[i].name][j]) !== -1)\r\n\t\t\t\t\tcontinue\r\n\t\t\t\tlet thisNoteNum = 0\r\n\t\t\t\tfor(let k = 0; k < cart[dish[i].name].length; k++){\r\n\t\t\t\t\tif(cart[dish[i].name][j] === cart[dish[i].name][k])\r\n\t\t\t\t\t\tthisNoteNum += 1\r\n\t\t\t\t}\r\n\t\t\t\tdishesNumTemp.push(thisNoteNum)\r\n\t\t\t\texistNote.push(cart[dish[i].name][j])\r\n\t\t\t\t// index 0 : the info of this dish, including name, ime, etc\r\n\t\t\t\t// index 1 : the note of this dish\r\n\t\t\t\tcartForMapTemp.push([dish[i], cart[dish[i].name][j]])\r\n\t\t\t}\r\n\t\t}\t\r\n\t\tsetCartForMap(cartForMapTemp)\r\n\t\tsetDishesNum(dishesNumTemp)\t\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\tcartForMapTemp.map((order, idx)=>\r\n\t\t\t{\r\n\t\t\t\t<ShoppingCart name={order[0].name} image={order[0].image} note={order[1]} number={dishesNum[idx]} cart={cart} setCart={setCart}></ShoppingCart>\r\n\t\t\t}\r\n\t\t)\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ShoppingCartPage"]},"metadata":{},"sourceType":"module"}